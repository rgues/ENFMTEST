{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { onMounted, ref } from 'vue';\nimport { SENT_REQUEST, GET_CATEGORIES } from \"../store/types\";\nimport store from '../store';\nimport router from '../routes';\nexport default {\n  __name: 'SentRequest',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const category_id = ref(\"\");\n    const description = ref(\"\");\n    const requestError = ref(\"\");\n    const loading = ref(false);\n    const categories = ref([]);\n    onMounted(async () => {\n      categories.value = await store.dispatch(GET_CATEGORIES);\n    });\n    function saveRequest() {\n      loading.value = true;\n      const data = {\n        category_id: category_id.value,\n        description: description.value\n      };\n      store.dispatch(SENT_REQUEST, data).then(data => {\n        loading.value = false;\n        if (data.status === \"success\") {\n          router.push(\"/admin/dashboard\");\n        }\n      }).catch(data => {\n        loading.value = false;\n        if (data === \"error\") {\n          requestError.value = store.state.request.message;\n        }\n      });\n    }\n    const __returned__ = {\n      category_id,\n      description,\n      requestError,\n      loading,\n      categories,\n      saveRequest,\n      onMounted,\n      ref,\n      get SENT_REQUEST() {\n        return SENT_REQUEST;\n      },\n      get GET_CATEGORIES() {\n        return GET_CATEGORIES;\n      },\n      get store() {\n        return store;\n      },\n      get router() {\n        return router;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["onMounted","ref","SENT_REQUEST","GET_CATEGORIES","store","router","category_id","description","requestError","loading","categories","value","dispatch","saveRequest","data","then","status","push","catch","state","request","message"],"sources":["C:/Users/HP/Desktop/ENFM/Customer_v2/client/src/views/SentRequest.vue"],"sourcesContent":["\r\n<script setup>\r\nimport { onMounted, ref } from 'vue';\r\nimport { SENT_REQUEST, GET_CATEGORIES } from \"../store/types\";\r\nimport store from '../store'\r\nimport router from '../routes'\r\n\r\nconst category_id = ref(\"\")\r\nconst  description = ref(\"\")\r\nconst  requestError = ref(\"\")\r\nconst  loading = ref(false)\r\nconst  categories = ref([])\r\n\r\n  onMounted(async () => {\r\n     categories.value = await store.dispatch(GET_CATEGORIES);\r\n  })\r\n\r\n    function saveRequest() {\r\n   \r\n      loading.value = true;\r\n      const data = {\r\n        category_id: category_id.value,\r\n        description: description.value,\r\n      };\r\n\r\n        store\r\n        .dispatch(SENT_REQUEST, data)\r\n        .then((data) => {\r\n          loading.value = false;\r\n          if (data.status === \"success\") {\r\n            router.push(\"/admin/dashboard\");\r\n          }\r\n        })\r\n        .catch((data) => {\r\n          loading.value = false;\r\n          if (data === \"error\") {\r\n            requestError.value = store.state.request.message;\r\n          }\r\n        })\r\n    }\r\n</script>\r\n\r\n<template>\r\n  <form class=\"m-10 p-5\">\r\n    <div class=\"mb-4\">\r\n      <h3 class=\"text-dark\">SENT REQUEST</h3>\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <p class=\"alert alert-danger\" v-show=\"requestError\">{{ requestError }}</p>\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <select class=\"form-control\" id=\"#category\" v-model=\"category_id\">\r\n        <option for=\"category\" value=\"\" :disabled=\"true\">\r\n          Select category\r\n        </option>\r\n        <option v-for=\"cat in categories\" :key=\"cat.id\" :value=\"cat.id\">\r\n          {{ cat.name }}\r\n        </option>\r\n      </select>\r\n    </div>\r\n    <div class=\"mb-3\">\r\n      <textarea\r\n        rows=\"5\"\r\n        v-model=\"description\"\r\n        class=\"form-control\"\r\n        id=\"passwordInput\"\r\n        placeholder=\"Enter a complaint\"\r\n      />\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <button\r\n        :disabled=\"loading\"\r\n        @click.prevent=\"saveRequest\"\r\n        :class=\"{'btn btn-lg btn-dark':!loading,'btn btn-lg btn-danger':loading}\"\r\n        type=\"button\"\r\n      >\r\n        Save\r\n      </button>\r\n    </div>\r\n  </form>\r\n</template>\r\n"],"mappings":";AAEA,SAASA,SAAS,EAAEC,GAAG,QAAQ,KAAK;AACpC,SAASC,YAAY,EAAEC,cAAc,QAAQ,gBAAgB;AAC7D,OAAOC,KAAK,MAAM,UAAU;AAC5B,OAAOC,MAAM,MAAM,WAAW;;;;;;;IAE9B,MAAMC,WAAW,GAAGL,GAAG,CAAC,EAAE,CAAC;IAC3B,MAAOM,WAAW,GAAGN,GAAG,CAAC,EAAE,CAAC;IAC5B,MAAOO,YAAY,GAAGP,GAAG,CAAC,EAAE,CAAC;IAC7B,MAAOQ,OAAO,GAAGR,GAAG,CAAC,KAAK,CAAC;IAC3B,MAAOS,UAAU,GAAGT,GAAG,CAAC,EAAE,CAAC;IAEzBD,SAAS,CAAC,YAAY;MACnBU,UAAU,CAACC,KAAK,GAAG,MAAMP,KAAK,CAACQ,QAAQ,CAACT,cAAc,CAAC;IAC1D,CAAC,CAAC;IAEA,SAASU,WAAWA,CAAA,EAAG;MAErBJ,OAAO,CAACE,KAAK,GAAG,IAAI;MACpB,MAAMG,IAAI,GAAG;QACXR,WAAW,EAAEA,WAAW,CAACK,KAAK;QAC9BJ,WAAW,EAAEA,WAAW,CAACI;MAC3B,CAAC;MAECP,KAAK,CACJQ,QAAQ,CAACV,YAAY,EAAEY,IAAI,CAAC,CAC5BC,IAAI,CAAED,IAAI,IAAK;QACdL,OAAO,CAACE,KAAK,GAAG,KAAK;QACrB,IAAIG,IAAI,CAACE,MAAM,KAAK,SAAS,EAAE;UAC7BX,MAAM,CAACY,IAAI,CAAC,kBAAkB,CAAC;QACjC;MACF,CAAC,CAAC,CACDC,KAAK,CAAEJ,IAAI,IAAK;QACfL,OAAO,CAACE,KAAK,GAAG,KAAK;QACrB,IAAIG,IAAI,KAAK,OAAO,EAAE;UACpBN,YAAY,CAACG,KAAK,GAAGP,KAAK,CAACe,KAAK,CAACC,OAAO,CAACC,OAAO;QAClD;MACF,CAAC,CAAC;IACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}