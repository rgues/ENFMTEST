{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { SENT_ANSWER } from \"../store/types\";\nimport router from '../routes';\nimport { watch, ref } from 'vue';\nimport store from '../store';\nimport { useRoute } from 'vue-router';\nexport default {\n  __name: 'SentAnswer',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const route = useRoute();\n    const assignation_id = ref(\"\");\n    const description = ref(\"\");\n    const answerError = ref(\"\");\n    const loading = ref(false);\n\n    // execute when request reassign \n    watch(() => route.params.id, async newId => {\n      if (newId) {\n        console.log(newId);\n        assignation_id.value = route.params.id;\n      }\n    });\n    function sentAnswerRequest() {\n      loading.value = true;\n      const data = {\n        assignation_id: assignation_id.value,\n        description: description.value\n      };\n      store.dispatch(SENT_ANSWER, data).then(data => {\n        loading.value = false;\n        if (data.status === \"success\") {\n          router.push(\"/admin/dashboard/assignations\");\n        }\n      }).catch(data => {\n        loading.value = false;\n        if (data === \"error\") {\n          answerError.value = store.state.request.message;\n        }\n      });\n    }\n    const __returned__ = {\n      route,\n      assignation_id,\n      description,\n      answerError,\n      loading,\n      sentAnswerRequest,\n      get SENT_ANSWER() {\n        return SENT_ANSWER;\n      },\n      get router() {\n        return router;\n      },\n      watch,\n      ref,\n      get store() {\n        return store;\n      },\n      get useRoute() {\n        return useRoute;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["SENT_ANSWER","router","watch","ref","store","useRoute","route","assignation_id","description","answerError","loading","params","id","newId","console","log","value","sentAnswerRequest","data","dispatch","then","status","push","catch","state","request","message"],"sources":["C:/Users/HP/Desktop/ENFM/Customer_v2/client/src/views/SentAnswer.vue"],"sourcesContent":["\r\n<script setup>\r\nimport { SENT_ANSWER } from \"../store/types\"\r\n\r\nimport router from '../routes'\r\nimport { watch, ref } from 'vue'\r\nimport store from '../store'\r\nimport { useRoute } from 'vue-router'\r\n\r\nconst route = useRoute()\r\nconst assignation_id = ref(\"\")\r\nconst description = ref(\"\")\r\nconst answerError = ref(\"\")\r\nconst loading = ref(false)\r\n\r\n    // execute when request reassign \r\n     watch(() => route.params.id,\r\n      async newId => {\r\n      if (newId) {\r\n          console.log(newId);\r\n          assignation_id.value = route.params.id;\r\n      }\r\n\r\n      })\r\n\r\n  function sentAnswerRequest() {\r\n      loading.value = true;\r\n      const data = {\r\n        assignation_id: assignation_id.value,\r\n        description: description.value\r\n      };\r\n        store\r\n        .dispatch(SENT_ANSWER, data)\r\n        .then((data) => {\r\n          loading.value = false;\r\n          if (data.status === \"success\") {\r\n            router.push(\"/admin/dashboard/assignations\");\r\n          }\r\n        })\r\n        .catch((data) => {\r\n          loading.value = false;\r\n          if (data === \"error\") {\r\n            answerError.value = store.state.request.message;\r\n          }\r\n        });\r\n    }\r\n\r\n</script>\r\n\r\n<template>\r\n  <form class=\"m-10 p-5\">\r\n    <div class=\"mb-4\">\r\n      <h3 class=\"text-dark\">ANSWER REQUEST</h3>\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <p class=\"alert alert-danger\" v-show=\"answerError\">{{ answerError }}</p>\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <textarea\r\n        rows=\"5\"\r\n        v-model=\"description\"\r\n        class=\"form-control\"\r\n        id=\"passwordInput\"\r\n        placeholder=\"Enter a answer\"\r\n      />\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <button\r\n        :disabled=\"loading\"\r\n        @click.prevent=\"sentAnswerRequest\"\r\n       :class=\"{'btn btn-lg btn-dark':!loading,'btn btn-lg btn-danger':loading}\"\r\n        type=\"button\"\r\n      >\r\n        Save\r\n      </button>\r\n    </div>\r\n  </form>\r\n</template>\r\n"],"mappings":";AAEA,SAASA,WAAW,QAAQ,gBAAgB;AAE5C,OAAOC,MAAM,MAAM,WAAW;AAC9B,SAASC,KAAK,EAAEC,GAAG,QAAQ,KAAK;AAChC,OAAOC,KAAK,MAAM,UAAU;AAC5B,SAASC,QAAQ,QAAQ,YAAY;;;;;;;IAErC,MAAMC,KAAK,GAAGD,QAAQ,CAAC,CAAC;IACxB,MAAME,cAAc,GAAGJ,GAAG,CAAC,EAAE,CAAC;IAC9B,MAAMK,WAAW,GAAGL,GAAG,CAAC,EAAE,CAAC;IAC3B,MAAMM,WAAW,GAAGN,GAAG,CAAC,EAAE,CAAC;IAC3B,MAAMO,OAAO,GAAGP,GAAG,CAAC,KAAK,CAAC;;IAEtB;IACCD,KAAK,CAAC,MAAMI,KAAK,CAACK,MAAM,CAACC,EAAE,EAC1B,MAAMC,KAAK,IAAI;MACf,IAAIA,KAAK,EAAE;QACPC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;QAClBN,cAAc,CAACS,KAAK,GAAGV,KAAK,CAACK,MAAM,CAACC,EAAE;MAC1C;IAEA,CAAC,CAAC;IAEN,SAASK,iBAAiBA,CAAA,EAAG;MACzBP,OAAO,CAACM,KAAK,GAAG,IAAI;MACpB,MAAME,IAAI,GAAG;QACXX,cAAc,EAAEA,cAAc,CAACS,KAAK;QACpCR,WAAW,EAAEA,WAAW,CAACQ;MAC3B,CAAC;MACCZ,KAAK,CACJe,QAAQ,CAACnB,WAAW,EAAEkB,IAAI,CAAC,CAC3BE,IAAI,CAAEF,IAAI,IAAK;QACdR,OAAO,CAACM,KAAK,GAAG,KAAK;QACrB,IAAIE,IAAI,CAACG,MAAM,KAAK,SAAS,EAAE;UAC7BpB,MAAM,CAACqB,IAAI,CAAC,+BAA+B,CAAC;QAC9C;MACF,CAAC,CAAC,CACDC,KAAK,CAAEL,IAAI,IAAK;QACfR,OAAO,CAACM,KAAK,GAAG,KAAK;QACrB,IAAIE,IAAI,KAAK,OAAO,EAAE;UACpBT,WAAW,CAACO,KAAK,GAAGZ,KAAK,CAACoB,KAAK,CAACC,OAAO,CAACC,OAAO;QACjD;MACF,CAAC,CAAC;IACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}