{"ast":null,"code":"import { getRequest, getCategories, saveRequest, assignRequest, getAssignations, getAnswers, getResponses, updateAnswer, answerRequest } from '../../api/request';\nimport { LIST_REQUEST, REQUEST_FAILURE, ASSIGNATIONS_LIST, LIST_ANSWERS, LIST_REQUEST_ANSWERS } from '../types';\nexport const requestModule = {\n  state() {\n    return {\n      listRequest: [],\n      listAssignations: [],\n      listAnswers: [],\n      listRequestAnswers: [],\n      categories: [],\n      message: ''\n    };\n  },\n  mutations: {\n    setRequest(state, data) {\n      state.listRequest = data;\n    },\n    setAssignation(state, data) {\n      state.listAssignations = data;\n    },\n    listAnswers(state, data) {\n      state.listAnswers = data;\n    },\n    listRequestAnswers(state, data) {\n      state.listRequestAnswers = data;\n    },\n    listCategories(state, data) {\n      state.categories = data;\n    },\n    setRequestFailure(state, data) {\n      state.message = data;\n    }\n  },\n  actions: {\n    async getRequests({\n      commit,\n      state\n    }) {\n      return new Promise(resovle => {\n        getRequest().then(response => {\n          commit(LIST_REQUEST, response.data);\n          setTimeout(() => {\n            resovle(state.listRequest);\n          }, 300);\n        }).catch(() => resovle([]));\n      });\n    },\n    async getAssignationList({\n      commit,\n      state\n    }) {\n      return new Promise(resovle => {\n        getAssignations().then(response => {\n          commit(ASSIGNATIONS_LIST, response.data);\n          setTimeout(() => {\n            resovle(state.listAssignations);\n          }, 300);\n        }).catch(() => resovle([]));\n      });\n    },\n    async getAllAnswers({\n      commit,\n      state\n    }) {\n      return new Promise(resovle => {\n        getAnswers().then(response => {\n          commit(LIST_ANSWERS, response.data);\n          setTimeout(() => {\n            resovle(state.listAnswers);\n          }, 300);\n        }).catch(() => resovle([]));\n      });\n    },\n    async getRequestAnswers({\n      commit,\n      state\n    }, requestId) {\n      return new Promise(resovle => {\n        getResponses(requestId).then(response => {\n          commit(LIST_REQUEST_ANSWERS, response.data.answers);\n          setTimeout(() => {\n            resovle(state.listRequestAnswers);\n          }, 300);\n        }).catch(() => resovle([]));\n      });\n    },\n    async getCategoriesList() {\n      return getCategories().then(response => response.data).catch(() => []);\n    },\n    async sentRequest({\n      commit\n    }, data) {\n      return new Promise((resolve, reject) => {\n        saveRequest(data).then(response => {\n          setTimeout(() => {\n            resolve(response);\n          }, 300);\n        }).catch(() => {\n          commit(REQUEST_FAILURE, 'Failed to save request.');\n          setTimeout(() => {\n            reject('error');\n          }, 300);\n        });\n      });\n    },\n    async saveAssignation({\n      commit\n    }, data) {\n      return new Promise((resolve, reject) => {\n        assignRequest(data).then(response => {\n          setTimeout(() => {\n            resolve(response);\n          }, 300);\n        }).catch(() => {\n          commit(REQUEST_FAILURE, 'Failed to add assignation.');\n          setTimeout(() => {\n            reject('error');\n          }, 300);\n        });\n      });\n    },\n    async approveAnswer({\n      commit\n    }, data) {\n      return new Promise((resolve, reject) => {\n        updateAnswer(data, data.id).then(response => {\n          setTimeout(() => {\n            resolve(response);\n          }, 300);\n        }).catch(() => {\n          commit(REQUEST_FAILURE, 'Failed. Cannot approve this answer.');\n          setTimeout(() => {\n            reject('error');\n          }, 300);\n        });\n      });\n    },\n    async sentAnswer({\n      commit\n    }, data) {\n      return new Promise((resolve, reject) => {\n        answerRequest(data).then(response => {\n          setTimeout(() => {\n            resolve(response);\n          }, 300);\n        }).catch(() => {\n          commit(REQUEST_FAILURE, 'Failed. Cannot answer this request.');\n          setTimeout(() => {\n            reject('error');\n          }, 300);\n        });\n      });\n    }\n  },\n  getters: {}\n};","map":{"version":3,"names":["getRequest","getCategories","saveRequest","assignRequest","getAssignations","getAnswers","getResponses","updateAnswer","answerRequest","LIST_REQUEST","REQUEST_FAILURE","ASSIGNATIONS_LIST","LIST_ANSWERS","LIST_REQUEST_ANSWERS","requestModule","state","listRequest","listAssignations","listAnswers","listRequestAnswers","categories","message","mutations","setRequest","data","setAssignation","listCategories","setRequestFailure","actions","getRequests","commit","Promise","resovle","then","response","setTimeout","catch","getAssignationList","getAllAnswers","getRequestAnswers","requestId","answers","getCategoriesList","sentRequest","resolve","reject","saveAssignation","approveAnswer","id","sentAnswer","getters"],"sources":["C:/Users/HP/Desktop/ENFM/Customer_v2/client/src/store/modules/request.module.js"],"sourcesContent":["import { getRequest, getCategories, saveRequest, assignRequest, \r\n    getAssignations, getAnswers, getResponses, updateAnswer, answerRequest } from '../../api/request';\r\nimport { LIST_REQUEST, REQUEST_FAILURE, ASSIGNATIONS_LIST, LIST_ANSWERS, LIST_REQUEST_ANSWERS } from '../types';\r\n\r\nexport const requestModule = {\r\n    state() {\r\n        return {\r\n            listRequest: [],\r\n            listAssignations:[],\r\n            listAnswers:[],\r\n            listRequestAnswers:[],\r\n            categories: [],\r\n            message: ''\r\n        }\r\n    },\r\n    mutations: {\r\n        setRequest(state, data) {\r\n            state.listRequest = data\r\n        },\r\n        setAssignation(state, data) {\r\n            state.listAssignations = data\r\n        },\r\n        listAnswers(state, data) {\r\n            state.listAnswers = data\r\n        },\r\n        listRequestAnswers(state, data) {\r\n            state.listRequestAnswers = data\r\n        },\r\n        listCategories(state, data) {\r\n            state.categories = data\r\n        }\r\n        ,\r\n        setRequestFailure(state, data) {\r\n            state.message = data\r\n        }\r\n    },\r\n    actions: {\r\n        async getRequests({ commit, state }) {\r\n         return new Promise((resovle) => {\r\n            getRequest().then(response => {\r\n                    commit(LIST_REQUEST, response.data)\r\n                    setTimeout(()=> {\r\n                          resovle(state.listRequest);\r\n                    },300)\r\n               \r\n            }).catch(() => resovle([]))\r\n\r\n        })\r\n\r\n        },\r\n\r\n        async getAssignationList({ commit, state }) {\r\n            return new Promise((resovle) => {\r\n                getAssignations().then(response => {\r\n                       commit(ASSIGNATIONS_LIST, response.data)\r\n                       setTimeout(()=> {\r\n                             resovle(state.listAssignations);\r\n                       },300)\r\n                  \r\n               }).catch(() => resovle([]))\r\n   \r\n           })\r\n   \r\n           },\r\n\r\n           async getAllAnswers({ commit, state }) {\r\n            return new Promise((resovle) => {\r\n                getAnswers().then(response => {\r\n                       commit(LIST_ANSWERS, response.data)\r\n                       setTimeout(()=> {\r\n                             resovle(state.listAnswers);\r\n                       },300)\r\n                  \r\n               }).catch(() => resovle([]))\r\n   \r\n           })\r\n   \r\n           },\r\n\r\n           async getRequestAnswers({ commit, state }, requestId) {\r\n            return new Promise((resovle) => {\r\n                getResponses(requestId).then(response => {\r\n                       commit(LIST_REQUEST_ANSWERS, response.data.answers)\r\n                       setTimeout(()=> {\r\n                             resovle(state.listRequestAnswers);\r\n                       },300)\r\n                  \r\n               }).catch(() => resovle([]))\r\n   \r\n           })\r\n   \r\n           },\r\n\r\n        async getCategoriesList() {\r\n            return getCategories().then(response => response.data).catch(() => [])\r\n         },\r\n\r\n        async sentRequest({ commit }, data) {\r\n            return new Promise((resolve, reject) => {\r\n                saveRequest(data).then(response => {\r\n                    setTimeout(() => {\r\n                        resolve(response)\r\n                    }, 300);\r\n                }).catch(() => {\r\n\r\n                    commit(REQUEST_FAILURE, 'Failed to save request.');\r\n                    setTimeout(() => {\r\n                        reject('error')\r\n                    }, 300);\r\n\r\n                })\r\n            })\r\n\r\n        },\r\n\r\n        async saveAssignation({ commit }, data) {\r\n            return new Promise((resolve, reject) => {\r\n                assignRequest(data).then(response => {\r\n                    setTimeout(() => {\r\n                        resolve(response)\r\n                    }, 300);\r\n                }).catch(() => {\r\n\r\n                    commit(REQUEST_FAILURE, 'Failed to add assignation.');\r\n                    setTimeout(() => {\r\n                        reject('error')\r\n                    }, 300);\r\n\r\n                })\r\n            })\r\n\r\n        },\r\n\r\n        async approveAnswer({ commit }, data) {\r\n            return new Promise((resolve, reject) => {\r\n                updateAnswer(data, data.id).then(response => {\r\n                    setTimeout(() => {\r\n                        resolve(response)\r\n                    }, 300);\r\n                }).catch(() => {\r\n\r\n                    commit(REQUEST_FAILURE, 'Failed. Cannot approve this answer.');\r\n                    setTimeout(() => {\r\n                        reject('error')\r\n                    }, 300);\r\n\r\n                })\r\n            })\r\n\r\n        },\r\n\r\n        async sentAnswer({ commit }, data) {\r\n            return new Promise((resolve, reject) => {\r\n                answerRequest(data).then(response => {\r\n                    setTimeout(() => {\r\n                        resolve(response)\r\n                    }, 300);\r\n                }).catch(() => {\r\n\r\n                    commit(REQUEST_FAILURE, 'Failed. Cannot answer this request.');\r\n                    setTimeout(() => {\r\n                        reject('error')\r\n                    }, 300);\r\n\r\n                })\r\n            })\r\n\r\n        }\r\n    },\r\n\r\n    getters: {\r\n\r\n    }\r\n};"],"mappings":"AAAA,SAASA,UAAU,EAAEC,aAAa,EAAEC,WAAW,EAAEC,aAAa,EAC1DC,eAAe,EAAEC,UAAU,EAAEC,YAAY,EAAEC,YAAY,EAAEC,aAAa,QAAQ,mBAAmB;AACrG,SAASC,YAAY,EAAEC,eAAe,EAAEC,iBAAiB,EAAEC,YAAY,EAAEC,oBAAoB,QAAQ,UAAU;AAE/G,OAAO,MAAMC,aAAa,GAAG;EACzBC,KAAKA,CAAA,EAAG;IACJ,OAAO;MACHC,WAAW,EAAE,EAAE;MACfC,gBAAgB,EAAC,EAAE;MACnBC,WAAW,EAAC,EAAE;MACdC,kBAAkB,EAAC,EAAE;MACrBC,UAAU,EAAE,EAAE;MACdC,OAAO,EAAE;IACb,CAAC;EACL,CAAC;EACDC,SAAS,EAAE;IACPC,UAAUA,CAACR,KAAK,EAAES,IAAI,EAAE;MACpBT,KAAK,CAACC,WAAW,GAAGQ,IAAI;IAC5B,CAAC;IACDC,cAAcA,CAACV,KAAK,EAAES,IAAI,EAAE;MACxBT,KAAK,CAACE,gBAAgB,GAAGO,IAAI;IACjC,CAAC;IACDN,WAAWA,CAACH,KAAK,EAAES,IAAI,EAAE;MACrBT,KAAK,CAACG,WAAW,GAAGM,IAAI;IAC5B,CAAC;IACDL,kBAAkBA,CAACJ,KAAK,EAAES,IAAI,EAAE;MAC5BT,KAAK,CAACI,kBAAkB,GAAGK,IAAI;IACnC,CAAC;IACDE,cAAcA,CAACX,KAAK,EAAES,IAAI,EAAE;MACxBT,KAAK,CAACK,UAAU,GAAGI,IAAI;IAC3B,CAAC;IAEDG,iBAAiBA,CAACZ,KAAK,EAAES,IAAI,EAAE;MAC3BT,KAAK,CAACM,OAAO,GAAGG,IAAI;IACxB;EACJ,CAAC;EACDI,OAAO,EAAE;IACL,MAAMC,WAAWA,CAAC;MAAEC,MAAM;MAAEf;IAAM,CAAC,EAAE;MACpC,OAAO,IAAIgB,OAAO,CAAEC,OAAO,IAAK;QAC7BhC,UAAU,CAAC,CAAC,CAACiC,IAAI,CAACC,QAAQ,IAAI;UACtBJ,MAAM,CAACrB,YAAY,EAAEyB,QAAQ,CAACV,IAAI,CAAC;UACnCW,UAAU,CAAC,MAAK;YACVH,OAAO,CAACjB,KAAK,CAACC,WAAW,CAAC;UAChC,CAAC,EAAC,GAAG,CAAC;QAEd,CAAC,CAAC,CAACoB,KAAK,CAAC,MAAMJ,OAAO,CAAC,EAAE,CAAC,CAAC;MAE/B,CAAC,CAAC;IAEF,CAAC;IAED,MAAMK,kBAAkBA,CAAC;MAAEP,MAAM;MAAEf;IAAM,CAAC,EAAE;MACxC,OAAO,IAAIgB,OAAO,CAAEC,OAAO,IAAK;QAC5B5B,eAAe,CAAC,CAAC,CAAC6B,IAAI,CAACC,QAAQ,IAAI;UAC5BJ,MAAM,CAACnB,iBAAiB,EAAEuB,QAAQ,CAACV,IAAI,CAAC;UACxCW,UAAU,CAAC,MAAK;YACVH,OAAO,CAACjB,KAAK,CAACE,gBAAgB,CAAC;UACrC,CAAC,EAAC,GAAG,CAAC;QAEd,CAAC,CAAC,CAACmB,KAAK,CAAC,MAAMJ,OAAO,CAAC,EAAE,CAAC,CAAC;MAE/B,CAAC,CAAC;IAEF,CAAC;IAED,MAAMM,aAAaA,CAAC;MAAER,MAAM;MAAEf;IAAM,CAAC,EAAE;MACtC,OAAO,IAAIgB,OAAO,CAAEC,OAAO,IAAK;QAC5B3B,UAAU,CAAC,CAAC,CAAC4B,IAAI,CAACC,QAAQ,IAAI;UACvBJ,MAAM,CAAClB,YAAY,EAAEsB,QAAQ,CAACV,IAAI,CAAC;UACnCW,UAAU,CAAC,MAAK;YACVH,OAAO,CAACjB,KAAK,CAACG,WAAW,CAAC;UAChC,CAAC,EAAC,GAAG,CAAC;QAEd,CAAC,CAAC,CAACkB,KAAK,CAAC,MAAMJ,OAAO,CAAC,EAAE,CAAC,CAAC;MAE/B,CAAC,CAAC;IAEF,CAAC;IAED,MAAMO,iBAAiBA,CAAC;MAAET,MAAM;MAAEf;IAAM,CAAC,EAAEyB,SAAS,EAAE;MACrD,OAAO,IAAIT,OAAO,CAAEC,OAAO,IAAK;QAC5B1B,YAAY,CAACkC,SAAS,CAAC,CAACP,IAAI,CAACC,QAAQ,IAAI;UAClCJ,MAAM,CAACjB,oBAAoB,EAAEqB,QAAQ,CAACV,IAAI,CAACiB,OAAO,CAAC;UACnDN,UAAU,CAAC,MAAK;YACVH,OAAO,CAACjB,KAAK,CAACI,kBAAkB,CAAC;UACvC,CAAC,EAAC,GAAG,CAAC;QAEd,CAAC,CAAC,CAACiB,KAAK,CAAC,MAAMJ,OAAO,CAAC,EAAE,CAAC,CAAC;MAE/B,CAAC,CAAC;IAEF,CAAC;IAEJ,MAAMU,iBAAiBA,CAAA,EAAG;MACtB,OAAOzC,aAAa,CAAC,CAAC,CAACgC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACV,IAAI,CAAC,CAACY,KAAK,CAAC,MAAM,EAAE,CAAC;IACzE,CAAC;IAEF,MAAMO,WAAWA,CAAC;MAAEb;IAAO,CAAC,EAAEN,IAAI,EAAE;MAChC,OAAO,IAAIO,OAAO,CAAC,CAACa,OAAO,EAAEC,MAAM,KAAK;QACpC3C,WAAW,CAACsB,IAAI,CAAC,CAACS,IAAI,CAACC,QAAQ,IAAI;UAC/BC,UAAU,CAAC,MAAM;YACbS,OAAO,CAACV,QAAQ,CAAC;UACrB,CAAC,EAAE,GAAG,CAAC;QACX,CAAC,CAAC,CAACE,KAAK,CAAC,MAAM;UAEXN,MAAM,CAACpB,eAAe,EAAE,yBAAyB,CAAC;UAClDyB,UAAU,CAAC,MAAM;YACbU,MAAM,CAAC,OAAO,CAAC;UACnB,CAAC,EAAE,GAAG,CAAC;QAEX,CAAC,CAAC;MACN,CAAC,CAAC;IAEN,CAAC;IAED,MAAMC,eAAeA,CAAC;MAAEhB;IAAO,CAAC,EAAEN,IAAI,EAAE;MACpC,OAAO,IAAIO,OAAO,CAAC,CAACa,OAAO,EAAEC,MAAM,KAAK;QACpC1C,aAAa,CAACqB,IAAI,CAAC,CAACS,IAAI,CAACC,QAAQ,IAAI;UACjCC,UAAU,CAAC,MAAM;YACbS,OAAO,CAACV,QAAQ,CAAC;UACrB,CAAC,EAAE,GAAG,CAAC;QACX,CAAC,CAAC,CAACE,KAAK,CAAC,MAAM;UAEXN,MAAM,CAACpB,eAAe,EAAE,4BAA4B,CAAC;UACrDyB,UAAU,CAAC,MAAM;YACbU,MAAM,CAAC,OAAO,CAAC;UACnB,CAAC,EAAE,GAAG,CAAC;QAEX,CAAC,CAAC;MACN,CAAC,CAAC;IAEN,CAAC;IAED,MAAME,aAAaA,CAAC;MAAEjB;IAAO,CAAC,EAAEN,IAAI,EAAE;MAClC,OAAO,IAAIO,OAAO,CAAC,CAACa,OAAO,EAAEC,MAAM,KAAK;QACpCtC,YAAY,CAACiB,IAAI,EAAEA,IAAI,CAACwB,EAAE,CAAC,CAACf,IAAI,CAACC,QAAQ,IAAI;UACzCC,UAAU,CAAC,MAAM;YACbS,OAAO,CAACV,QAAQ,CAAC;UACrB,CAAC,EAAE,GAAG,CAAC;QACX,CAAC,CAAC,CAACE,KAAK,CAAC,MAAM;UAEXN,MAAM,CAACpB,eAAe,EAAE,qCAAqC,CAAC;UAC9DyB,UAAU,CAAC,MAAM;YACbU,MAAM,CAAC,OAAO,CAAC;UACnB,CAAC,EAAE,GAAG,CAAC;QAEX,CAAC,CAAC;MACN,CAAC,CAAC;IAEN,CAAC;IAED,MAAMI,UAAUA,CAAC;MAAEnB;IAAO,CAAC,EAAEN,IAAI,EAAE;MAC/B,OAAO,IAAIO,OAAO,CAAC,CAACa,OAAO,EAAEC,MAAM,KAAK;QACpCrC,aAAa,CAACgB,IAAI,CAAC,CAACS,IAAI,CAACC,QAAQ,IAAI;UACjCC,UAAU,CAAC,MAAM;YACbS,OAAO,CAACV,QAAQ,CAAC;UACrB,CAAC,EAAE,GAAG,CAAC;QACX,CAAC,CAAC,CAACE,KAAK,CAAC,MAAM;UAEXN,MAAM,CAACpB,eAAe,EAAE,qCAAqC,CAAC;UAC9DyB,UAAU,CAAC,MAAM;YACbU,MAAM,CAAC,OAAO,CAAC;UACnB,CAAC,EAAE,GAAG,CAAC;QAEX,CAAC,CAAC;MACN,CAAC,CAAC;IAEN;EACJ,CAAC;EAEDK,OAAO,EAAE,CAET;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}