{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ADD_USER, GET_ROLES } from \"../store/types\";\nimport store from '../routes';\nimport { onMounted, ref } from 'vue';\nimport router from '../routes';\nexport default {\n  __name: 'AddUser',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const role_id = ref('');\n    const firstname = ref('');\n    const lastname = ref('');\n    const email = ref('');\n    const password = ref('');\n    const userError = ref('');\n    const loading = ref(false);\n    const roles = ref([]);\n    onMounted(async () => {\n      roles.value = await store.dispatch(GET_ROLES);\n    });\n    function registerUser() {\n      loading.value = true;\n      const data = {\n        role_id: role_id.value,\n        firstname: firstname.value,\n        lastname: lastname.value,\n        email: email.value,\n        password: password.value\n      };\n      store.dispatch(ADD_USER, data).then(data => {\n        loading.value = false;\n        if (data.status === \"success\") {\n          router.push(\"/admin/dashboard/users\");\n        }\n      }).catch(data => {\n        loading.value = false;\n        if (data === \"error\") {\n          userError.value = store.state.user.message;\n        }\n      });\n    }\n    const __returned__ = {\n      role_id,\n      firstname,\n      lastname,\n      email,\n      password,\n      userError,\n      loading,\n      roles,\n      registerUser,\n      get ADD_USER() {\n        return ADD_USER;\n      },\n      get GET_ROLES() {\n        return GET_ROLES;\n      },\n      get store() {\n        return store;\n      },\n      onMounted,\n      ref,\n      get router() {\n        return router;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ADD_USER","GET_ROLES","store","onMounted","ref","router","role_id","firstname","lastname","email","password","userError","loading","roles","value","dispatch","registerUser","data","then","status","push","catch","state","user","message"],"sources":["C:/Users/HP/Desktop/ENFM/Customer_v2/client/src/views/AddUser.vue"],"sourcesContent":["<script setup>\r\nimport { ADD_USER, GET_ROLES } from \"../store/types\";\r\nimport store from '../routes'\r\nimport { onMounted, ref } from 'vue';\r\nimport router from '../routes'\r\n\r\n   const role_id = ref('')\r\n   const firstname = ref('')\r\n   const lastname = ref('')\r\n   const email = ref('')\r\n   const password = ref('')\r\n   const userError = ref('')\r\n   const loading = ref(false)\r\n   const roles = ref([])\r\n\r\nonMounted(async() => {\r\n     roles.value = await store.dispatch(GET_ROLES);\r\n})\r\n\r\nfunction registerUser() {\r\n      loading.value = true;\r\n      const data = {\r\n        role_id: role_id.value,\r\n        firstname: firstname.value,\r\n        lastname: lastname.value,\r\n        email: email.value,\r\n        password: password.value\r\n      };\r\n\r\n        store\r\n        .dispatch(ADD_USER, data)\r\n        .then((data) => {\r\n          loading.value = false;\r\n          if (data.status === \"success\") {\r\n            router.push(\"/admin/dashboard/users\");\r\n          }\r\n        })\r\n        .catch((data) => {\r\n          loading.value = false;\r\n          if (data === \"error\") {\r\n            userError.value = store.state.user.message;\r\n          }\r\n        });\r\n    }\r\n\r\n</script>\r\n\r\n<template>\r\n  <form class=\"m-10 p-5\">\r\n    <div class=\"mb-4\">\r\n      <h3 class=\"text-dark\">ADD USER</h3>\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <p class=\"alert alert-danger\" v-show=\"userError\">{{ userError }}</p>\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <select class=\"form-control\" id=\"#role\" v-model=\"role_id\">\r\n        <option for=\"role\" value=\"\" :disabled=\"true\">\r\n          Select Role\r\n        </option>\r\n        <option for=\"role\"  v-for=\"role in roles\" :key=\"role.id\" :value=\"role.id\">\r\n          {{ role.title }}\r\n        </option>\r\n      </select>\r\n    </div>\r\n    <div class=\"mb-3\">\r\n      <input\r\n        type=\"text\"\r\n        v-model=\"firstname\"\r\n        class=\"form-control\"\r\n        id=\"firstnameInput\"\r\n        placeholder=\"FirstName\"\r\n      />\r\n    </div>\r\n\r\n      <div class=\"mb-3\">\r\n      <input\r\n        type=\"text\"\r\n        v-model=\"lastname\"\r\n        class=\"form-control\"\r\n        id=\"lastnameInput\"\r\n        placeholder=\"LaststName\"\r\n      />\r\n    </div>\r\n\r\n      <div class=\"mb-3\">\r\n      <input\r\n        type=\"email\"\r\n        v-model=\"email\"\r\n        class=\"form-control\"\r\n        id=\"emailInput\"\r\n        placeholder=\"Email\"\r\n      />\r\n    </div>\r\n\r\n      <div class=\"mb-3\">\r\n      <input\r\n        type=\"password\"\r\n        v-model=\"password\"\r\n        class=\"form-control\"\r\n        id=\"PasswordInput\"\r\n        placeholder=\"Password\"\r\n      />\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <button\r\n        :disabled=\"loading\"\r\n        @click.prevent=\"registerUser\"\r\n        :class=\"{'btn btn-lg btn-dark':!loading,'btn btn-lg btn-danger':loading}\"\r\n        type=\"button\"\r\n      >\r\n        Save\r\n      </button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n"],"mappings":";AACA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,gBAAgB;AACpD,OAAOC,KAAK,MAAM,WAAW;AAC7B,SAASC,SAAS,EAAEC,GAAG,QAAQ,KAAK;AACpC,OAAOC,MAAM,MAAM,WAAW;;;;;;;IAE3B,MAAMC,OAAO,GAAGF,GAAG,CAAC,EAAE,CAAC;IACvB,MAAMG,SAAS,GAAGH,GAAG,CAAC,EAAE,CAAC;IACzB,MAAMI,QAAQ,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMK,KAAK,GAAGL,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMM,QAAQ,GAAGN,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMO,SAAS,GAAGP,GAAG,CAAC,EAAE,CAAC;IACzB,MAAMQ,OAAO,GAAGR,GAAG,CAAC,KAAK,CAAC;IAC1B,MAAMS,KAAK,GAAGT,GAAG,CAAC,EAAE,CAAC;IAExBD,SAAS,CAAC,YAAW;MAChBU,KAAK,CAACC,KAAK,GAAG,MAAMZ,KAAK,CAACa,QAAQ,CAACd,SAAS,CAAC;IAClD,CAAC,CAAC;IAEF,SAASe,YAAYA,CAAA,EAAG;MAClBJ,OAAO,CAACE,KAAK,GAAG,IAAI;MACpB,MAAMG,IAAI,GAAG;QACXX,OAAO,EAAEA,OAAO,CAACQ,KAAK;QACtBP,SAAS,EAAEA,SAAS,CAACO,KAAK;QAC1BN,QAAQ,EAAEA,QAAQ,CAACM,KAAK;QACxBL,KAAK,EAAEA,KAAK,CAACK,KAAK;QAClBJ,QAAQ,EAAEA,QAAQ,CAACI;MACrB,CAAC;MAECZ,KAAK,CACJa,QAAQ,CAACf,QAAQ,EAAEiB,IAAI,CAAC,CACxBC,IAAI,CAAED,IAAI,IAAK;QACdL,OAAO,CAACE,KAAK,GAAG,KAAK;QACrB,IAAIG,IAAI,CAACE,MAAM,KAAK,SAAS,EAAE;UAC7Bd,MAAM,CAACe,IAAI,CAAC,wBAAwB,CAAC;QACvC;MACF,CAAC,CAAC,CACDC,KAAK,CAAEJ,IAAI,IAAK;QACfL,OAAO,CAACE,KAAK,GAAG,KAAK;QACrB,IAAIG,IAAI,KAAK,OAAO,EAAE;UACpBN,SAAS,CAACG,KAAK,GAAGZ,KAAK,CAACoB,KAAK,CAACC,IAAI,CAACC,OAAO;QAC5C;MACF,CAAC,CAAC;IACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}