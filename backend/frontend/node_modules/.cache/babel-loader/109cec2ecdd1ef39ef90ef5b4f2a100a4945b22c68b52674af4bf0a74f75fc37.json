{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { SENT_ANSWER } from \"../store/types\";\nexport default {\n  name: \"SentAnswerComponent\",\n  async created() {\n    // ressagn reuest\n    if (this.$route.params.id) {\n      this.assignation_id = this.$route.params.id;\n    }\n  },\n  data() {\n    return {\n      assignation_id: \"\",\n      description: \"\",\n      answerError: \"\",\n      loading: false\n    };\n  },\n  methods: {\n    sentAnswerRequest(e) {\n      e.preventDefault();\n      this.loading = true;\n      const data = {\n        assignation_id: this.request_id,\n        description: this.description\n      };\n      this.$store.dispatch(SENT_ANSWER, data).then(data => {\n        this.loading = false;\n        if (data.status === \"success\") {\n          this.$router.push(\"/admin/dashboard/assignations\");\n        }\n      }).catch(data => {\n        this.loading = false;\n        if (data === \"error\") {\n          this.answerError = this.$store.state.request.message;\n        }\n      });\n    },\n    updateRequest(e) {\n      if (e.target.value !== this.user_id) {\n        // Get user assignations\n        if (this.assignations && this.assignations.length) {\n          this.assignations = this.assignations.filter(item => item.user_id === this.user_id);\n        }\n\n        // remove request that is already assign to the user\n        if (this.assignations && this.assignations.length) {\n          this.assignations.map(assign => {\n            this.requests = this.requests.filter(item => assign.request_id !== item.id);\n          });\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["SENT_ANSWER","name","created","$route","params","id","assignation_id","data","description","answerError","loading","methods","sentAnswerRequest","e","preventDefault","request_id","$store","dispatch","then","status","$router","push","catch","state","request","message","updateRequest","target","value","user_id","assignations","length","filter","item","map","assign","requests"],"sources":["C:\\Users\\HP\\Desktop\\Etisalat\\client\\src\\modules\\SentAnswer.vue"],"sourcesContent":["<template>\r\n  <form class=\"m-10 p-5\">\r\n    <div class=\"mb-4\">\r\n      <h3 class=\"text-dark\">ANSWER REQUEST</h3>\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <p class=\"alert alert-danger\" v-show=\"answerError\">{{ answerError }}</p>\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <textarea\r\n        rows=\"5\"\r\n        v-model=\"description\"\r\n        class=\"form-control\"\r\n        id=\"passwordInput\"\r\n        placeholder=\"Enter a answer\"\r\n      />\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <button\r\n        :disabled=\"loading\"\r\n        @click=\"sentAnswerRequest\"\r\n        class=\"btn btn-lg btn-dark\"\r\n        type=\"button\"\r\n      >\r\n        Save\r\n      </button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport { SENT_ANSWER } from \"../store/types\";\r\n\r\nexport default {\r\n  name: \"SentAnswerComponent\",\r\n   async created() {\r\n\r\n     // ressagn reuest\r\n     if (this.$route.params.id) {\r\n        this.assignation_id = this.$route.params.id;\r\n     }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      assignation_id: \"\",\r\n      description: \"\",\r\n      answerError: \"\",\r\n      loading: false\r\n    };\r\n  },\r\n  methods: {\r\n    sentAnswerRequest(e) {\r\n      e.preventDefault();\r\n      this.loading = true;\r\n      const data = {\r\n        assignation_id: this.request_id,\r\n        description: this.description\r\n      };\r\n      this.$store\r\n        .dispatch(SENT_ANSWER, data)\r\n        .then((data) => {\r\n          this.loading = false;\r\n          if (data.status === \"success\") {\r\n            this.$router.push(\"/admin/dashboard/assignations\");\r\n          }\r\n        })\r\n        .catch((data) => {\r\n          this.loading = false;\r\n          if (data === \"error\") {\r\n            this.answerError = this.$store.state.request.message;\r\n          }\r\n        });\r\n    },\r\n\r\n      updateRequest(e) {\r\n\r\n     if (e.target.value !== this.user_id) {\r\n      // Get user assignations\r\n      if (this.assignations &&  this.assignations.length) {\r\n         this.assignations = this.assignations.filter(item => item.user_id === this.user_id);\r\n      }\r\n \r\n     // remove request that is already assign to the user\r\n     if (this.assignations &&  this.assignations.length) {\r\n         this.assignations.map((assign) => {\r\n                this.requests = this.requests.filter(item => assign.request_id !== item.id );\r\n         });\r\n     }\r\n     }\r\n\r\n  },\r\n  },\r\n};\r\n\r\n</script>\r\n\r\n<style>\r\n</style>"],"mappings":";AAkCA,SAASA,WAAU,QAAS,gBAAgB;AAE5C,eAAe;EACbC,IAAI,EAAE,qBAAqB;EAC1B,MAAMC,OAAOA,CAAA,EAAG;IAEd;IACA,IAAI,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE,EAAE;MACxB,IAAI,CAACC,cAAa,GAAI,IAAI,CAACH,MAAM,CAACC,MAAM,CAACC,EAAE;IAC9C;EACH,CAAC;EAEDE,IAAIA,CAAA,EAAG;IACL,OAAO;MACLD,cAAc,EAAE,EAAE;MAClBE,WAAW,EAAE,EAAE;MACfC,WAAW,EAAE,EAAE;MACfC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,iBAAiBA,CAACC,CAAC,EAAE;MACnBA,CAAC,CAACC,cAAc,CAAC,CAAC;MAClB,IAAI,CAACJ,OAAM,GAAI,IAAI;MACnB,MAAMH,IAAG,GAAI;QACXD,cAAc,EAAE,IAAI,CAACS,UAAU;QAC/BP,WAAW,EAAE,IAAI,CAACA;MACpB,CAAC;MACD,IAAI,CAACQ,MAAK,CACPC,QAAQ,CAACjB,WAAW,EAAEO,IAAI,EAC1BW,IAAI,CAAEX,IAAI,IAAK;QACd,IAAI,CAACG,OAAM,GAAI,KAAK;QACpB,IAAIH,IAAI,CAACY,MAAK,KAAM,SAAS,EAAE;UAC7B,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,+BAA+B,CAAC;QACpD;MACF,CAAC,EACAC,KAAK,CAAEf,IAAI,IAAK;QACf,IAAI,CAACG,OAAM,GAAI,KAAK;QACpB,IAAIH,IAAG,KAAM,OAAO,EAAE;UACpB,IAAI,CAACE,WAAU,GAAI,IAAI,CAACO,MAAM,CAACO,KAAK,CAACC,OAAO,CAACC,OAAO;QACtD;MACF,CAAC,CAAC;IACN,CAAC;IAECC,aAAaA,CAACb,CAAC,EAAE;MAElB,IAAIA,CAAC,CAACc,MAAM,CAACC,KAAI,KAAM,IAAI,CAACC,OAAO,EAAE;QACpC;QACA,IAAI,IAAI,CAACC,YAAW,IAAM,IAAI,CAACA,YAAY,CAACC,MAAM,EAAE;UACjD,IAAI,CAACD,YAAW,GAAI,IAAI,CAACA,YAAY,CAACE,MAAM,CAACC,IAAG,IAAKA,IAAI,CAACJ,OAAM,KAAM,IAAI,CAACA,OAAO,CAAC;QACtF;;QAED;QACA,IAAI,IAAI,CAACC,YAAW,IAAM,IAAI,CAACA,YAAY,CAACC,MAAM,EAAE;UAChD,IAAI,CAACD,YAAY,CAACI,GAAG,CAAEC,MAAM,IAAK;YAC3B,IAAI,CAACC,QAAO,GAAI,IAAI,CAACA,QAAQ,CAACJ,MAAM,CAACC,IAAG,IAAKE,MAAM,CAACpB,UAAS,KAAMkB,IAAI,CAAC5B,EAAG,CAAC;UACnF,CAAC,CAAC;QACN;MACA;IAEH;EACA;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}