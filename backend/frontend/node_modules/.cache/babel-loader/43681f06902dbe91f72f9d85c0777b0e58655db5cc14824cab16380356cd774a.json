{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport AuthLayout from \"../layouts/Auth.vue\";\nimport { LOGIN_USER } from '../store/types';\nimport { ref } from 'vue';\nimport store from '../store';\n\n// Form Data\n\nexport default {\n  __name: 'Home',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const email = ref('');\n    const password = ref('');\n    const loginError = ref('');\n    const loading = ref(false);\n\n    // Login function\n    function login() {\n      loading.value = true;\n      const data = {\n        email: email.value,\n        password: password.value\n      };\n      store.dispatch(LOGIN_USER, data).then(data => {\n        loading.value = false;\n        if (data === 'success') {\n          this.$router.push('/admin/dashboard');\n        }\n      }).catch(data => {\n        loading.value = false;\n        if (data === 'error') {\n          loginError.value = store.state.user.message;\n        }\n      });\n    }\n    const __returned__ = {\n      email,\n      password,\n      loginError,\n      loading,\n      login,\n      AuthLayout,\n      get LOGIN_USER() {\n        return LOGIN_USER;\n      },\n      ref,\n      get store() {\n        return store;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["AuthLayout","LOGIN_USER","ref","store","email","password","loginError","loading","login","value","data","dispatch","then","$router","push","catch","state","user","message"],"sources":["C:/Users/HP/Desktop/ENFM/Customer_v2/client/src/modules/Home.vue"],"sourcesContent":["<script setup>\r\nimport AuthLayout from \"../layouts/Auth.vue\"\r\nimport {LOGIN_USER} from '../store/types'\r\nimport {  ref } from 'vue';\r\nimport store  from '../store'\r\n\r\n// Form Data\r\nconst email = ref('')\r\nconst password = ref('')\r\nconst loginError = ref('')\r\nconst loading = ref(false)\r\n\r\n  // Login function\r\n function login()  {\r\n          loading.value = true;\r\n         const data = {\r\n           email : email.value,\r\n           password : password.value\r\n         }\r\n         store.dispatch(LOGIN_USER,data).then(data => {\r\n              loading.value = false;\r\n              if(data === 'success') {\r\n                this.$router.push('/admin/dashboard');\r\n              }\r\n         }).catch(data => {\r\n            loading.value = false;\r\n           if(data === 'error') {\r\n              loginError.value = store.state.user.message;\r\n            } \r\n         })\r\n}\r\n\r\n\r\n\r\n\r\n</script>\r\n<template>\r\n  <AuthLayout>\r\n    <div class=\"login-container d-sm-block p-5 mt-5 mt-sm-2\">\r\n\r\n      <form>\r\n  \r\n      <div class=\"mb-4\">\r\n        <h3 class=\"text-light\">AUTHENTICATION</h3>\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <p class=\"alert alert-danger\" v-show=\"loginError\" >{{loginError}}</p>\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <input\r\n         type=\"email\"\r\n          v-model=\"email\"\r\n          class=\"form-control\"\r\n          id=\"emailInput\"\r\n          placeholder=\"xyz@test.com\"\r\n        />\r\n      </div>\r\n      <div class=\"mb-3\">\r\n        <input\r\n          type=\"password\"\r\n          v-model=\"password\"\r\n          class=\"form-control\"\r\n          id=\"passwordInput\"\r\n          placeholder=\"Password\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"mb-3\">\r\n        <button\r\n         :disabled=\"loading\"\r\n          @click.prevent=\"login\"\r\n          :class=\"{'btn btn-lg btn-primary':!loading,'btn btn-lg btn-danger':loading}\"\r\n          type=\"button\"\r\n        >\r\n          Login\r\n        </button>\r\n      </div>\r\n       </form>\r\n    </div>\r\n  </AuthLayout>\r\n</template>\r\n\r\n<style>\r\n.login-container {\r\n  border-radius: 1rem;\r\n  border: solid 1px #222;\r\n  width: 40%;\r\n  margin: auto;\r\n  background: var(--bs-dark);\r\n  color: #fff;\r\n}\r\n\r\n@media (max-width: 645px) {\r\n  .login-container {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>"],"mappings":";AACA,OAAOA,UAAU,MAAM,qBAAqB;AAC5C,SAAQC,UAAU,QAAO,gBAAgB;AACzC,SAAUC,GAAG,QAAQ,KAAK;AAC1B,OAAOC,KAAK,MAAO,UAAU;;AAE7B;;;;;;;;IACA,MAAMC,KAAK,GAAGF,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMG,QAAQ,GAAGH,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMI,UAAU,GAAGJ,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMK,OAAO,GAAGL,GAAG,CAAC,KAAK,CAAC;;IAExB;IACD,SAASM,KAAKA,CAAA,EAAI;MACTD,OAAO,CAACE,KAAK,GAAG,IAAI;MACrB,MAAMC,IAAI,GAAG;QACXN,KAAK,EAAGA,KAAK,CAACK,KAAK;QACnBJ,QAAQ,EAAGA,QAAQ,CAACI;MACtB,CAAC;MACDN,KAAK,CAACQ,QAAQ,CAACV,UAAU,EAACS,IAAI,CAAC,CAACE,IAAI,CAACF,IAAI,IAAI;QACxCH,OAAO,CAACE,KAAK,GAAG,KAAK;QACrB,IAAGC,IAAI,KAAK,SAAS,EAAE;UACrB,IAAI,CAACG,OAAO,CAACC,IAAI,CAAC,kBAAkB,CAAC;QACvC;MACL,CAAC,CAAC,CAACC,KAAK,CAACL,IAAI,IAAI;QACdH,OAAO,CAACE,KAAK,GAAG,KAAK;QACtB,IAAGC,IAAI,KAAK,OAAO,EAAE;UAClBJ,UAAU,CAACG,KAAK,GAAGN,KAAK,CAACa,KAAK,CAACC,IAAI,CAACC,OAAO;QAC7C;MACH,CAAC,CAAC;IACX"},"metadata":{},"sourceType":"module","externalDependencies":[]}